{"version":3,"file":"static/js/479.7d2c7343.chunk.js","mappings":"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","sources":["../node_modules/@vidstack/react/prod/chunks/vidstack-BqgQkvb4.js","../node_modules/@vidstack/react/prod/chunks/vidstack-krOAtKMi.js","../node_modules/@vidstack/react/prod/chunks/vidstack-FldwQc2Q.js"],"sourcesContent":["\"use client\"\n\nimport { createScope, signal, effect, peek, isString, deferredPromise, listenEvent, isArray } from './vidstack-CZgUA94N.js';\nimport { TimeRange, RAFLoop, preconnect, ListSymbol, TextTrack, QualitySymbol } from './vidstack-D5Pzx_k5.js';\nimport { EmbedProvider } from './vidstack-FldwQc2Q.js';\nimport { resolveVimeoVideoId, getVimeoVideoInfo } from './vidstack-krOAtKMi.js';\nimport 'react';\nimport '@floating-ui/dom';\n\nconst trackedVimeoEvents = [\n  \"bufferend\",\n  \"bufferstart\",\n  // 'cuechange',\n  \"durationchange\",\n  \"ended\",\n  \"enterpictureinpicture\",\n  \"error\",\n  \"fullscreenchange\",\n  \"leavepictureinpicture\",\n  \"loaded\",\n  // 'loadeddata',\n  // 'loadedmetadata',\n  // 'loadstart',\n  \"playProgress\",\n  \"loadProgress\",\n  \"pause\",\n  \"play\",\n  \"playbackratechange\",\n  // 'progress',\n  \"qualitychange\",\n  \"seeked\",\n  \"seeking\",\n  // 'texttrackchange',\n  \"timeupdate\",\n  \"volumechange\",\n  \"waiting\"\n  // 'adstarted',\n  // 'adcompleted',\n  // 'aderror',\n  // 'adskipped',\n  // 'adallcompleted',\n  // 'adclicked',\n  // 'chapterchange',\n  // 'chromecastconnected',\n  // 'remoteplaybackavailabilitychange',\n  // 'remoteplaybackconnecting',\n  // 'remoteplaybackconnect',\n  // 'remoteplaybackdisconnect',\n  // 'liveeventended',\n  // 'liveeventstarted',\n  // 'livestreamoffline',\n  // 'livestreamonline',\n];\n\nclass VimeoProvider extends EmbedProvider {\n  $$PROVIDER_TYPE = \"VIMEO\";\n  scope = createScope();\n  fullscreen;\n  #ctx;\n  #videoId = signal(\"\");\n  #pro = signal(false);\n  #hash = null;\n  #currentSrc = null;\n  #fullscreenActive = false;\n  #seekableRange = new TimeRange(0, 0);\n  #timeRAF = new RAFLoop(this.#onAnimationFrame.bind(this));\n  #currentCue = null;\n  #chaptersTrack = null;\n  #promises = /* @__PURE__ */ new Map();\n  #videoInfoPromise = null;\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n    const self = this;\n    this.fullscreen = {\n      get active() {\n        return self.#fullscreenActive;\n      },\n      supported: true,\n      enter: () => this.#remote(\"requestFullscreen\"),\n      exit: () => this.#remote(\"exitFullscreen\")\n    };\n  }\n  /**\n   * Whether tracking session data should be enabled on the embed, including cookies and analytics.\n   * This is turned off by default to be GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  title = true;\n  byline = true;\n  portrait = true;\n  color = \"00ADEF\";\n  get type() {\n    return \"vimeo\";\n  }\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  get hash() {\n    return this.#hash;\n  }\n  get isPro() {\n    return this.#pro();\n  }\n  preconnect() {\n    preconnect(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    effect(this.#watchVideoId.bind(this));\n    effect(this.#watchVideoInfo.bind(this));\n    effect(this.#watchPro.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    this.fullscreen = void 0;\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const { reject } of promises) reject(message);\n    }\n    this.#promises.clear();\n    this.#remote(\"destroy\");\n  }\n  async play() {\n    return this.#remote(\"play\");\n  }\n  async pause() {\n    return this.#remote(\"pause\");\n  }\n  setMuted(muted) {\n    this.#remote(\"setMuted\", muted);\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume);\n    this.#remote(\"setMuted\", peek(this.#ctx.$state.muted));\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.#currentSrc = null;\n      this.#hash = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const { videoId, hash } = resolveVimeoVideoId(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#hash = hash ?? null;\n    this.#currentSrc = src;\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/video/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  #watchVideoInfo() {\n    const videoId = this.#videoId();\n    if (!videoId) return;\n    const promise = deferredPromise(), abort = new AbortController();\n    this.#videoInfoPromise = promise;\n    getVimeoVideoInfo(videoId, abort, this.#hash).then((info) => {\n      promise.resolve(info);\n    }).catch((e) => {\n      promise.reject();\n    });\n    return () => {\n      promise.reject();\n      abort.abort();\n    };\n  }\n  #watchPro() {\n    const isPro = this.#pro(), { $state, qualities } = this.#ctx;\n    $state.canSetPlaybackRate.set(isPro);\n    qualities[ListSymbol.setReadonly](!isPro);\n    if (isPro) {\n      return listenEvent(qualities, \"change\", () => {\n        if (qualities.auto) return;\n        const id = qualities.selected?.id;\n        if (id) this.#remote(\"setQuality\", id);\n      });\n    }\n  }\n  getOrigin() {\n    return \"https://player.vimeo.com\";\n  }\n  buildParams() {\n    const { keyDisabled } = this.#ctx.$props, { playsInline, nativeControls } = this.#ctx.$state, showControls = nativeControls();\n    return {\n      title: this.title,\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      controls: showControls,\n      h: this.hash,\n      keyboard: showControls && !keyDisabled(),\n      transparent: true,\n      playsinline: playsInline(),\n      dnt: !this.cookies\n    };\n  }\n  #onAnimationFrame() {\n    this.#remote(\"getCurrentTime\");\n  }\n  // Embed will sometimes dispatch 0 at end of playback.\n  #preventTimeUpdates = false;\n  #onTimeUpdate(time, trigger) {\n    if (this.#preventTimeUpdates && time === 0) return;\n    const { realCurrentTime, paused, bufferedEnd, seekableEnd, live } = this.#ctx.$state;\n    if (realCurrentTime() === time) return;\n    const prevTime = realCurrentTime();\n    this.#ctx.notify(\"time-change\", time, trigger);\n    if (Math.abs(prevTime - time) > 1.5) {\n      this.#ctx.notify(\"seeking\", time, trigger);\n      if (!paused() && bufferedEnd() < time) {\n        this.#ctx.notify(\"waiting\", void 0, trigger);\n      }\n    }\n    if (!live() && seekableEnd() - time < 0.01) {\n      this.#ctx.notify(\"end\", void 0, trigger);\n      this.#preventTimeUpdates = true;\n      setTimeout(() => {\n        this.#preventTimeUpdates = false;\n      }, 500);\n    }\n  }\n  #onSeeked(time, trigger) {\n    this.#ctx.notify(\"seeked\", time, trigger);\n  }\n  #onLoaded(trigger) {\n    const videoId = this.#videoId();\n    this.#videoInfoPromise?.promise.then((info) => {\n      if (!info) return;\n      const { title, poster, duration, pro } = info;\n      this.#pro.set(pro);\n      this.#ctx.notify(\"title-change\", title, trigger);\n      this.#ctx.notify(\"poster-change\", poster, trigger);\n      this.#ctx.notify(\"duration-change\", duration, trigger);\n      this.#onReady(duration, trigger);\n    }).catch(() => {\n      if (videoId !== this.#videoId()) return;\n      this.#remote(\"getVideoTitle\");\n      this.#remote(\"getDuration\");\n    });\n  }\n  #onReady(duration, trigger) {\n    const { nativeControls } = this.#ctx.$state, showEmbedControls = nativeControls();\n    this.#seekableRange = new TimeRange(0, duration);\n    const detail = {\n      buffered: new TimeRange(0, 0),\n      seekable: this.#seekableRange,\n      duration\n    };\n    this.#ctx.delegate.ready(detail, trigger);\n    if (!showEmbedControls) {\n      this.#remote(\"_hideOverlay\");\n    }\n    this.#remote(\"getQualities\");\n    this.#remote(\"getChapters\");\n  }\n  #onMethod(method, data, trigger) {\n    switch (method) {\n      case \"getVideoTitle\":\n        const videoTitle = data;\n        this.#ctx.notify(\"title-change\", videoTitle, trigger);\n        break;\n      case \"getDuration\":\n        const duration = data;\n        if (!this.#ctx.$state.canPlay()) {\n          this.#onReady(duration, trigger);\n        } else {\n          this.#ctx.notify(\"duration-change\", duration, trigger);\n        }\n        break;\n      case \"getCurrentTime\":\n        this.#onTimeUpdate(data, trigger);\n        break;\n      case \"getBuffered\":\n        if (isArray(data) && data.length) {\n          this.#onLoadProgress(data[data.length - 1][1], trigger);\n        }\n        break;\n      case \"setMuted\":\n        this.#onVolumeChange(peek(this.#ctx.$state.volume), data, trigger);\n        break;\n      // case 'getTextTracks':\n      //   this.#onTextTracksChange(data as VimeoTextTrack[], trigger);\n      //   break;\n      case \"getChapters\":\n        this.#onChaptersChange(data);\n        break;\n      case \"getQualities\":\n        this.#onQualitiesChange(data, trigger);\n        break;\n    }\n    this.#getPromise(method)?.resolve();\n  }\n  #attachListeners() {\n    for (const type of trackedVimeoEvents) {\n      this.#remote(\"addEventListener\", type);\n    }\n  }\n  #onPause(trigger) {\n    this.#timeRAF.stop();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onPlay(trigger) {\n    this.#timeRAF.start();\n    this.#ctx.notify(\"play\", void 0, trigger);\n  }\n  #onPlayProgress(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused() && !this.#preventTimeUpdates) {\n      this.#ctx.notify(\"playing\", void 0, trigger);\n    }\n  }\n  #onLoadProgress(buffered, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable: this.#seekableRange\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n  }\n  #onBufferStart(trigger) {\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onBufferEnd(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused()) this.#ctx.notify(\"playing\", void 0, trigger);\n  }\n  #onWaiting(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (paused()) {\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onVolumeChange(volume, muted, trigger) {\n    const detail = { volume, muted };\n    this.#ctx.notify(\"volume-change\", detail, trigger);\n  }\n  // #onTextTrackChange(track: VimeoTextTrack, trigger: Event) {\n  //   const textTrack = this.#ctx.textTracks.toArray().find((t) => t.language === track.language);\n  //   if (textTrack) textTrack.mode = track.mode;\n  // }\n  // #onTextTracksChange(tracks: VimeoTextTrack[], trigger: Event) {\n  //   for (const init of tracks) {\n  //     const textTrack = new TextTrack({\n  //       ...init,\n  //       label: init.label.replace('auto-generated', 'auto'),\n  //     });\n  //     textTrack[TextTrackSymbol.readyState] = 2;\n  //     this.#ctx.textTracks.add(textTrack, trigger);\n  //     textTrack.setMode(init.mode, trigger);\n  //   }\n  // }\n  // #onCueChange(cue: VimeoTextCue, trigger: Event) {\n  //   const { textTracks, $state } = this.#ctx,\n  //     { currentTime } = $state,\n  //     track = textTracks.selected;\n  //   if (this.#currentCue) track?.removeCue(this.#currentCue, trigger);\n  //   this.#currentCue = new window.VTTCue(currentTime(), Number.MAX_SAFE_INTEGER, cue.text);\n  //   track?.addCue(this.#currentCue, trigger);\n  // }\n  #onChaptersChange(chapters) {\n    this.#removeChapters();\n    if (!chapters.length) return;\n    const track = new TextTrack({\n      kind: \"chapters\",\n      default: true\n    }), { seekableEnd } = this.#ctx.$state;\n    for (let i = 0; i < chapters.length; i++) {\n      const chapter = chapters[i], nextChapter = chapters[i + 1];\n      track.addCue(\n        new window.VTTCue(\n          chapter.startTime,\n          nextChapter?.startTime ?? seekableEnd(),\n          chapter.title\n        )\n      );\n    }\n    this.#chaptersTrack = track;\n    this.#ctx.textTracks.add(track);\n  }\n  #removeChapters() {\n    if (!this.#chaptersTrack) return;\n    this.#ctx.textTracks.remove(this.#chaptersTrack);\n    this.#chaptersTrack = null;\n  }\n  #onQualitiesChange(qualities, trigger) {\n    this.#ctx.qualities[QualitySymbol.enableAuto] = qualities.some((q) => q.id === \"auto\") ? () => this.#remote(\"setQuality\", \"auto\") : void 0;\n    for (const quality of qualities) {\n      if (quality.id === \"auto\") continue;\n      const height = +quality.id.slice(0, -1);\n      if (isNaN(height)) continue;\n      this.#ctx.qualities[ListSymbol.add](\n        {\n          id: quality.id,\n          width: height * (16 / 9),\n          height,\n          codec: \"avc1,h.264\",\n          bitrate: -1\n        },\n        trigger\n      );\n    }\n    this.#onQualityChange(\n      qualities.find((q) => q.active),\n      trigger\n    );\n  }\n  #onQualityChange({ id } = {}, trigger) {\n    if (!id) return;\n    const isAuto = id === \"auto\", newQuality = this.#ctx.qualities.getById(id);\n    if (isAuto) {\n      this.#ctx.qualities[QualitySymbol.setAuto](isAuto, trigger);\n      this.#ctx.qualities[ListSymbol.select](void 0, true, trigger);\n    } else {\n      this.#ctx.qualities[ListSymbol.select](newQuality ?? void 0, true, trigger);\n    }\n  }\n  #onEvent(event, payload, trigger) {\n    switch (event) {\n      case \"ready\":\n        this.#attachListeners();\n        break;\n      case \"loaded\":\n        this.#onLoaded(trigger);\n        break;\n      case \"play\":\n        this.#onPlay(trigger);\n        break;\n      case \"playProgress\":\n        this.#onPlayProgress(trigger);\n        break;\n      case \"pause\":\n        this.#onPause(trigger);\n        break;\n      case \"loadProgress\":\n        this.#onLoadProgress(payload.seconds, trigger);\n        break;\n      case \"waiting\":\n        this.#onWaiting(trigger);\n        break;\n      case \"bufferstart\":\n        this.#onBufferStart(trigger);\n        break;\n      case \"bufferend\":\n        this.#onBufferEnd(trigger);\n        break;\n      case \"volumechange\":\n        this.#onVolumeChange(payload.volume, peek(this.#ctx.$state.muted), trigger);\n        break;\n      case \"durationchange\":\n        this.#seekableRange = new TimeRange(0, payload.duration);\n        this.#ctx.notify(\"duration-change\", payload.duration, trigger);\n        break;\n      case \"playbackratechange\":\n        this.#ctx.notify(\"rate-change\", payload.playbackRate, trigger);\n        break;\n      case \"qualitychange\":\n        this.#onQualityChange(payload, trigger);\n        break;\n      case \"fullscreenchange\":\n        this.#fullscreenActive = payload.fullscreen;\n        this.#ctx.notify(\"fullscreen-change\", payload.fullscreen, trigger);\n        break;\n      case \"enterpictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", true, trigger);\n        break;\n      case \"leavepictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", false, trigger);\n        break;\n      case \"ended\":\n        this.#ctx.notify(\"end\", void 0, trigger);\n        break;\n      case \"error\":\n        this.#onError(payload, trigger);\n        break;\n      case \"seek\":\n      case \"seeked\":\n        this.#onSeeked(payload.seconds, trigger);\n        break;\n    }\n  }\n  #onError(error, trigger) {\n    const { message, method } = error;\n    if (method === \"setPlaybackRate\") {\n      this.#pro.set(false);\n    }\n    if (method) {\n      this.#getPromise(method)?.reject(message);\n    }\n  }\n  onMessage(message, event) {\n    if (message.event) {\n      this.#onEvent(message.event, message.data, event);\n    } else if (message.method) {\n      this.#onMethod(message.method, message.value, event);\n    }\n  }\n  onLoad() {\n  }\n  async #remote(command, arg) {\n    let promise = deferredPromise(), promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      method: command,\n      value: arg\n    });\n    return promise.promise;\n  }\n  #reset() {\n    this.#timeRAF.stop();\n    this.#seekableRange = new TimeRange(0, 0);\n    this.#videoInfoPromise = null;\n    this.#currentCue = null;\n    this.#pro.set(false);\n    this.#removeChapters();\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n}\n\nexport { VimeoProvider };\n","\"use client\"\n\nconst videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n","\"use client\"\n\nimport { appendParamsToURL, IS_SERVER } from './vidstack-D5Pzx_k5.js';\nimport { signal, listenEvent, effect, peek, isString } from './vidstack-CZgUA94N.js';\n\nclass EmbedProvider {\n  #iframe;\n  src = signal(\"\");\n  /**\n   * Defines which referrer is sent when fetching the resource.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n   */\n  referrerPolicy = null;\n  get iframe() {\n    return this.#iframe;\n  }\n  constructor(iframe) {\n    this.#iframe = iframe;\n    iframe.setAttribute(\"frameBorder\", \"0\");\n    iframe.setAttribute(\"aria-hidden\", \"true\");\n    iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  setup() {\n    listenEvent(window, \"message\", this.#onWindowMessage.bind(this));\n    listenEvent(this.#iframe, \"load\", this.onLoad.bind(this));\n    effect(this.#watchSrc.bind(this));\n  }\n  #watchSrc() {\n    const src = this.src();\n    if (!src.length) {\n      this.#iframe.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = peek(() => this.buildParams());\n    this.#iframe.setAttribute(\"src\", appendParamsToURL(src, params));\n  }\n  postMessage(message, target) {\n    if (IS_SERVER) return;\n    this.#iframe.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  #onWindowMessage(event) {\n    const origin = this.getOrigin(), isOriginMatch = (event.source === null || event.source === this.#iframe?.contentWindow) && (!isString(origin) || origin === event.origin);\n    if (!isOriginMatch) return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message) this.onMessage(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data) this.onMessage(event.data, event);\n  }\n}\n\nexport { EmbedProvider };\n"],"names":["trackedVimeoEvents","_ctx","WeakMap","_videoId","_pro","_hash","_currentSrc","_fullscreenActive","_seekableRange","_timeRAF","_currentCue","_chaptersTrack","_promises","_videoInfoPromise","_VimeoProvider_brand","WeakSet","_preventTimeUpdates","VimeoProvider","EmbedProvider","constructor","iframe","ctx","super","_classPrivateMethodInitSpec","_defineProperty","createScope","_classPrivateFieldInitSpec","signal","TimeRange","RAFLoop","_assertClassBrand","this","_onAnimationFrame","bind","Map","_classPrivateFieldSet","self","fullscreen","active","_classPrivateFieldGet","supported","enter","_remote","call","exit","type","currentSrc","videoId","hash","isPro","preconnect","getOrigin","setup","effect","_watchVideoId","_watchVideoInfo","_watchPro","notify","destroy","_reset","promises","values","reject","clear","play","pause","setMuted","muted","setCurrentTime","time","setVolume","volume","peek","$state","setPlaybackRate","rate","loadSource","src","isString","set","resolveVimeoVideoId","buildParams","keyDisabled","$props","playsInline","nativeControls","showControls","title","byline","color","portrait","controls","h","keyboard","transparent","playsinline","dnt","cookies","onMessage","message","event","_onEvent","data","method","_onMethod","value","onLoad","concat","promise","deferredPromise","abort","AbortController","getVimeoVideoInfo","then","info","resolve","catch","e","qualities","canSetPlaybackRate","ListSymbol","setReadonly","listenEvent","_qualities$selected","auto","id","selected","_onTimeUpdate","trigger","realCurrentTime","paused","bufferedEnd","seekableEnd","live","prevTime","Math","abs","setTimeout","_onSeeked","_onLoaded","_classPrivateFieldGet2","poster","duration","pro","_onReady","showEmbedControls","detail","buffered","seekable","delegate","ready","_assertClassBrand$cal","videoTitle","canPlay","isArray","length","_onLoadProgress","_onVolumeChange","_onChaptersChange","_onQualitiesChange","_getPromise","_attachListeners","_onPause","stop","_onPlay","start","_onPlayProgress","_onBufferStart","_onBufferEnd","_onWaiting","chapters","_removeChapters","track","TextTrack","kind","default","i","_nextChapter$startTim","chapter","nextChapter","addCue","window","VTTCue","startTime","textTracks","add","remove","QualitySymbol","enableAuto","some","q","quality","height","slice","isNaN","width","codec","bitrate","_onQualityChange","find","arguments","undefined","isAuto","newQuality","getById","setAuto","select","payload","seconds","playbackRate","_onError","error","_assertClassBrand$cal2","command","arg","get","push","postMessage","_classPrivateFieldGet3","shift","videoIdRE","infoCache","pendingFetch","matches","match","async","videoHash","has","oembedSrc","fetch","mode","response","json","_data$thumbnail_url","_data$title","_data$duration","thumbnailId","thumbnail_url","account_type","finally","delete","_iframe","_EmbedProvider_brand","setAttribute","referrerPolicy","_onWindowMessage","_watchSrc","target","IS_SERVER","contentWindow","JSON","stringify","params","appendParamsToURL","origin","source","parse"],"ignoreList":[],"sourceRoot":""}