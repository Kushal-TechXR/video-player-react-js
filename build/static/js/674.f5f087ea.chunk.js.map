{"version":3,"file":"static/js/674.f5f087ea.chunk.js","mappings":"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","sources":["../node_modules/@vidstack/react/prod/chunks/vidstack-CQQ1xKSy.js"],"sourcesContent":["\"use client\"\n\nimport { IS_CHROME, canGoogleCastSrc, IS_IOS, IS_SERVER, loadScript } from './vidstack-D5Pzx_k5.js';\nimport { listenEvent, peek } from './vidstack-CZgUA94N.js';\n\nfunction getCastFrameworkURL() {\n  return \"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1\";\n}\nfunction hasLoadedCastFramework() {\n  return !!window.cast?.framework;\n}\nfunction isCastAvailable() {\n  return !!window.chrome?.cast?.isAvailable;\n}\nfunction isCastConnected() {\n  return getCastContext().getCastState() === cast.framework.CastState.CONNECTED;\n}\nfunction getCastContext() {\n  return window.cast.framework.CastContext.getInstance();\n}\nfunction getCastSession() {\n  return getCastContext().getCurrentSession();\n}\nfunction getCastSessionMedia() {\n  return getCastSession()?.getSessionObj().media[0];\n}\nfunction hasActiveCastSession(src) {\n  const contentId = getCastSessionMedia()?.media.contentId;\n  return contentId === src?.src;\n}\nfunction getDefaultCastOptions() {\n  return {\n    language: \"en-US\",\n    autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,\n    receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,\n    resumeSavedSession: true,\n    androidReceiverCompatible: true\n  };\n}\nfunction getCastErrorMessage(code) {\n  const defaultMessage = `Google Cast Error Code: ${code}`;\n  return defaultMessage;\n}\nfunction listenCastContextEvent(type, handler) {\n  return listenEvent(getCastContext(), type, handler);\n}\n\nclass GoogleCastLoader {\n  name = \"google-cast\";\n  target;\n  #player;\n  /**\n   * @see {@link https://developers.google.com/cast/docs/reference/web_sender/cast.framework.CastContext}\n   */\n  get cast() {\n    return getCastContext();\n  }\n  mediaType() {\n    return \"video\";\n  }\n  canPlay(src) {\n    return IS_CHROME && !IS_IOS && canGoogleCastSrc(src);\n  }\n  async prompt(ctx) {\n    let loadEvent, openEvent, errorEvent;\n    try {\n      loadEvent = await this.#loadCastFramework(ctx);\n      if (!this.#player) {\n        this.#player = new cast.framework.RemotePlayer();\n        new cast.framework.RemotePlayerController(this.#player);\n      }\n      openEvent = ctx.player.createEvent(\"google-cast-prompt-open\", {\n        trigger: loadEvent\n      });\n      ctx.player.dispatchEvent(openEvent);\n      this.#notifyRemoteStateChange(ctx, \"connecting\", openEvent);\n      await this.#showPrompt(peek(ctx.$props.googleCast));\n      ctx.$state.remotePlaybackInfo.set({\n        deviceName: getCastSession()?.getCastDevice().friendlyName\n      });\n      if (isCastConnected()) this.#notifyRemoteStateChange(ctx, \"connected\", openEvent);\n    } catch (code) {\n      const error = code instanceof Error ? code : this.#createError(\n        (code + \"\").toUpperCase(),\n        \"Prompt failed.\"\n      );\n      errorEvent = ctx.player.createEvent(\"google-cast-prompt-error\", {\n        detail: error,\n        trigger: openEvent ?? loadEvent,\n        cancelable: true\n      });\n      ctx.player.dispatch(errorEvent);\n      this.#notifyRemoteStateChange(\n        ctx,\n        isCastConnected() ? \"connected\" : \"disconnected\",\n        errorEvent\n      );\n      throw error;\n    } finally {\n      ctx.player.dispatch(\"google-cast-prompt-close\", {\n        trigger: errorEvent ?? openEvent ?? loadEvent\n      });\n    }\n  }\n  async load(ctx) {\n    if (IS_SERVER) {\n      throw Error(\"[vidstack] can not load google cast provider server-side\");\n    }\n    if (!this.#player) {\n      throw Error(\"[vidstack] google cast player was not initialized\");\n    }\n    return new (await import('./vidstack-BeT6vBOi.js')).GoogleCastProvider(this.#player, ctx);\n  }\n  async #loadCastFramework(ctx) {\n    if (hasLoadedCastFramework()) return;\n    const loadStartEvent = ctx.player.createEvent(\"google-cast-load-start\");\n    ctx.player.dispatch(loadStartEvent);\n    await loadScript(getCastFrameworkURL());\n    await customElements.whenDefined(\"google-cast-launcher\");\n    const loadedEvent = ctx.player.createEvent(\"google-cast-loaded\", { trigger: loadStartEvent });\n    ctx.player.dispatch(loadedEvent);\n    if (!isCastAvailable()) {\n      throw this.#createError(\"CAST_NOT_AVAILABLE\", \"Google Cast not available on this platform.\");\n    }\n    return loadedEvent;\n  }\n  async #showPrompt(options) {\n    this.#setOptions(options);\n    const errorCode = await this.cast.requestSession();\n    if (errorCode) {\n      throw this.#createError(\n        errorCode.toUpperCase(),\n        getCastErrorMessage(errorCode)\n      );\n    }\n  }\n  #setOptions(options) {\n    this.cast?.setOptions({\n      ...getDefaultCastOptions(),\n      ...options\n    });\n  }\n  #notifyRemoteStateChange(ctx, state, trigger) {\n    const detail = { type: \"google-cast\", state };\n    ctx.notify(\"remote-playback-change\", detail, trigger);\n  }\n  #createError(code, message) {\n    const error = Error(message);\n    error.code = code;\n    return error;\n  }\n}\n\nvar loader = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  GoogleCastLoader: GoogleCastLoader\n});\n\nexport { getCastContext, getCastErrorMessage, getCastSession, getCastSessionMedia, hasActiveCastSession, listenCastContextEvent, loader };\n"],"names":["isCastConnected","getCastContext","getCastState","cast","framework","CastState","CONNECTED","window","CastContext","getInstance","getCastSession","getCurrentSession","getCastSessionMedia","_getCastSession","getSessionObj","media","hasActiveCastSession","src","_getCastSessionMedia","contentId","getCastErrorMessage","code","concat","listenCastContextEvent","type","handler","listenEvent","_player","WeakMap","_GoogleCastLoader_brand","WeakSet","_loadCastFramework","ctx","_window$cast","hasLoadedCastFramework","loadStartEvent","player","createEvent","dispatch","loadScript","customElements","whenDefined","loadedEvent","trigger","_window$chrome","chrome","isAvailable","isCastAvailable","_assertClassBrand","this","_createError","call","_showPrompt","options","_setOptions","errorCode","requestSession","toUpperCase","_this$cast","setOptions","_objectSpread","language","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","receiverApplicationId","DEFAULT_MEDIA_RECEIVER_APP_ID","resumeSavedSession","androidReceiverCompatible","_notifyRemoteStateChange","state","detail","notify","message","error","Error","loader","Object","freeze","__proto__","GoogleCastLoader","constructor","_classPrivateMethodInitSpec","_defineProperty","_classPrivateFieldInitSpec","mediaType","canPlay","IS_CHROME","IS_IOS","canGoogleCastSrc","prompt","loadEvent","openEvent","errorEvent","_getCastSession2","_classPrivateFieldGet","_classPrivateFieldSet","RemotePlayer","RemotePlayerController","dispatchEvent","peek","$props","googleCast","$state","remotePlaybackInfo","set","deviceName","getCastDevice","friendlyName","cancelable","_ref","load","IS_SERVER","GoogleCastProvider"],"ignoreList":[],"sourceRoot":""}