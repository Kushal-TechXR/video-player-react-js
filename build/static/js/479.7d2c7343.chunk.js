"use strict";(self.webpackChunkreels_app=self.webpackChunkreels_app||[]).push([[479,655],{479:(t,e,i)=>{i.r(e),i.d(e,{VimeoProvider:()=>$});var s=i(790),n=i(149),a=i(705),h=i(458),o=i(558),l=i(562),r=i(180),c=i(408),u=i(751),d=i(655);i(43);const A=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"];var f=new WeakMap,p=new WeakMap,v=new WeakMap,g=new WeakMap,y=new WeakMap,k=new WeakMap,b=new WeakMap,m=new WeakMap,w=new WeakMap,M=new WeakMap,W=new WeakMap,P=new WeakMap,T=new WeakSet,V=new WeakMap;class $ extends u.h{constructor(t,e){super(t),(0,s.A)(this,T),(0,a.A)(this,"$$PROVIDER_TYPE","VIMEO"),(0,a.A)(this,"scope",(0,r.Ds)()),(0,a.A)(this,"fullscreen",void 0),(0,n.A)(this,f,void 0),(0,n.A)(this,p,(0,r.O)("")),(0,n.A)(this,v,(0,r.O)(!1)),(0,n.A)(this,g,null),(0,n.A)(this,y,null),(0,n.A)(this,k,!1),(0,n.A)(this,b,new c.zJ(0,0)),(0,n.A)(this,m,new c.e8((0,l.A)(T,this,j).bind(this))),(0,n.A)(this,w,null),(0,n.A)(this,M,null),(0,n.A)(this,W,new Map),(0,n.A)(this,P,null),(0,a.A)(this,"cookies",!1),(0,a.A)(this,"title",!0),(0,a.A)(this,"byline",!0),(0,a.A)(this,"portrait",!0),(0,a.A)(this,"color","00ADEF"),(0,n.A)(this,V,!1),(0,o.A)(f,this,e);const i=this;this.fullscreen={get active(){return(0,h.A)(k,i)},supported:!0,enter:()=>(0,l.A)(T,this,U).call(this,"requestFullscreen"),exit:()=>(0,l.A)(T,this,U).call(this,"exitFullscreen")}}get type(){return"vimeo"}get currentSrc(){return(0,h.A)(y,this)}get videoId(){return(0,h.A)(p,this).call(this)}get hash(){return(0,h.A)(g,this)}get isPro(){return(0,h.A)(v,this).call(this)}preconnect(){(0,c.TB)(this.getOrigin())}setup(){super.setup(),(0,r.QZ)((0,l.A)(T,this,C).bind(this)),(0,r.QZ)((0,l.A)(T,this,I).bind(this)),(0,r.QZ)((0,l.A)(T,this,O).bind(this)),(0,h.A)(f,this).notify("provider-setup",this)}destroy(){(0,l.A)(T,this,tt).call(this),this.fullscreen=void 0;for(const t of(0,h.A)(W,this).values())for(const{reject:e}of t)e("provider destroyed");(0,h.A)(W,this).clear(),(0,l.A)(T,this,U).call(this,"destroy")}async play(){return(0,l.A)(T,this,U).call(this,"play")}async pause(){return(0,l.A)(T,this,U).call(this,"pause")}setMuted(t){(0,l.A)(T,this,U).call(this,"setMuted",t)}setCurrentTime(t){(0,l.A)(T,this,U).call(this,"seekTo",t),(0,h.A)(f,this).notify("seeking",t)}setVolume(t){(0,l.A)(T,this,U).call(this,"setVolume",t),(0,l.A)(T,this,U).call(this,"setMuted",(0,r.se)((0,h.A)(f,this).$state.muted))}setPlaybackRate(t){(0,l.A)(T,this,U).call(this,"setPlaybackRate",t)}async loadSource(t){if(!(0,r.Kg)(t.src))return(0,o.A)(y,this,null),(0,o.A)(g,this,null),void(0,h.A)(p,this).set("");const{videoId:e,hash:i}=(0,d.resolveVimeoVideoId)(t.src);(0,h.A)(p,this).set(null!==e&&void 0!==e?e:""),(0,o.A)(g,this,null!==i&&void 0!==i?i:null),(0,o.A)(y,this,t)}getOrigin(){return"https://player.vimeo.com"}buildParams(){const{keyDisabled:t}=(0,h.A)(f,this).$props,{playsInline:e,nativeControls:i}=(0,h.A)(f,this).$state,s=i();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:s,h:this.hash,keyboard:s&&!t(),transparent:!0,playsinline:e(),dnt:!this.cookies}}onMessage(t,e){t.event?(0,l.A)(T,this,Y).call(this,t.event,t.data,e):t.method&&(0,l.A)(T,this,R).call(this,t.method,t.value,e)}onLoad(){}}function C(){(0,l.A)(T,this,tt).call(this);const t=(0,h.A)(p,this).call(this);t?(this.src.set("".concat(this.getOrigin(),"/video/").concat(t)),(0,h.A)(f,this).notify("load-start")):this.src.set("")}function I(){const t=(0,h.A)(p,this).call(this);if(!t)return;const e=(0,r.vI)(),i=new AbortController;return(0,o.A)(P,this,e),(0,d.getVimeoVideoInfo)(t,i,(0,h.A)(g,this)).then(t=>{e.resolve(t)}).catch(t=>{e.reject()}),()=>{e.reject(),i.abort()}}function O(){const t=(0,h.A)(v,this).call(this),{$state:e,qualities:i}=(0,h.A)(f,this);if(e.canSetPlaybackRate.set(t),i[c.jH.setReadonly](!t),t)return(0,r.k6)(i,"change",()=>{var t;if(i.auto)return;const e=null===(t=i.selected)||void 0===t?void 0:t.id;e&&(0,l.A)(T,this,U).call(this,"setQuality",e)})}function j(){(0,l.A)(T,this,U).call(this,"getCurrentTime")}function q(t,e){if((0,h.A)(V,this)&&0===t)return;const{realCurrentTime:i,paused:s,bufferedEnd:n,seekableEnd:a,live:l}=(0,h.A)(f,this).$state;if(i()===t)return;const r=i();(0,h.A)(f,this).notify("time-change",t,e),Math.abs(r-t)>1.5&&((0,h.A)(f,this).notify("seeking",t,e),!s()&&n()<t&&(0,h.A)(f,this).notify("waiting",void 0,e)),!l()&&a()-t<.01&&((0,h.A)(f,this).notify("end",void 0,e),(0,o.A)(V,this,!0),setTimeout(()=>{(0,o.A)(V,this,!1)},500))}function E(t,e){(0,h.A)(f,this).notify("seeked",t,e)}function J(t){var e;const i=(0,h.A)(p,this).call(this);null===(e=(0,h.A)(P,this))||void 0===e||e.promise.then(e=>{if(!e)return;const{title:i,poster:s,duration:n,pro:a}=e;(0,h.A)(v,this).set(a),(0,h.A)(f,this).notify("title-change",i,t),(0,h.A)(f,this).notify("poster-change",s,t),(0,h.A)(f,this).notify("duration-change",n,t),(0,l.A)(T,this,Q).call(this,n,t)}).catch(()=>{i===(0,h.A)(p,this).call(this)&&((0,l.A)(T,this,U).call(this,"getVideoTitle"),(0,l.A)(T,this,U).call(this,"getDuration"))})}function Q(t,e){const{nativeControls:i}=(0,h.A)(f,this).$state,s=i();(0,o.A)(b,this,new c.zJ(0,t));const n={buffered:new c.zJ(0,0),seekable:(0,h.A)(b,this),duration:t};(0,h.A)(f,this).delegate.ready(n,e),s||(0,l.A)(T,this,U).call(this,"_hideOverlay"),(0,l.A)(T,this,U).call(this,"getQualities"),(0,l.A)(T,this,U).call(this,"getChapters")}function R(t,e,i){var s;switch(t){case"getVideoTitle":const t=e;(0,h.A)(f,this).notify("title-change",t,i);break;case"getDuration":const s=e;(0,h.A)(f,this).$state.canPlay()?(0,h.A)(f,this).notify("duration-change",s,i):(0,l.A)(T,this,Q).call(this,s,i);break;case"getCurrentTime":(0,l.A)(T,this,q).call(this,e,i);break;case"getBuffered":(0,r.cy)(e)&&e.length&&(0,l.A)(T,this,D).call(this,e[e.length-1][1],i);break;case"setMuted":(0,l.A)(T,this,N).call(this,(0,r.se)((0,h.A)(f,this).$state.volume),e,i);break;case"getChapters":(0,l.A)(T,this,Z).call(this,e);break;case"getQualities":(0,l.A)(T,this,K).call(this,e,i)}null===(s=(0,l.A)(T,this,et).call(this,t))||void 0===s||s.resolve()}function _(){for(const t of A)(0,l.A)(T,this,U).call(this,"addEventListener",t)}function x(t){(0,h.A)(m,this).stop(),(0,h.A)(f,this).notify("pause",void 0,t)}function S(t){(0,h.A)(m,this).start(),(0,h.A)(f,this).notify("play",void 0,t)}function z(t){const{paused:e}=(0,h.A)(f,this).$state;e()||(0,h.A)(V,this)||(0,h.A)(f,this).notify("playing",void 0,t)}function D(t,e){const i={buffered:new c.zJ(0,t),seekable:(0,h.A)(b,this)};(0,h.A)(f,this).notify("progress",i,e)}function B(t){(0,h.A)(f,this).notify("waiting",void 0,t)}function F(t){const{paused:e}=(0,h.A)(f,this).$state;e()||(0,h.A)(f,this).notify("playing",void 0,t)}function H(t){const{paused:e}=(0,h.A)(f,this).$state;e()&&(0,h.A)(f,this).notify("play",void 0,t),(0,h.A)(f,this).notify("waiting",void 0,t)}function N(t,e,i){const s={volume:t,muted:e};(0,h.A)(f,this).notify("volume-change",s,i)}function Z(t){if((0,l.A)(T,this,L).call(this),!t.length)return;const e=new c.to({kind:"chapters",default:!0}),{seekableEnd:i}=(0,h.A)(f,this).$state;for(let n=0;n<t.length;n++){var s;const a=t[n],h=t[n+1];e.addCue(new window.VTTCue(a.startTime,null!==(s=null===h||void 0===h?void 0:h.startTime)&&void 0!==s?s:i(),a.title))}(0,o.A)(M,this,e),(0,h.A)(f,this).textTracks.add(e)}function L(){(0,h.A)(M,this)&&((0,h.A)(f,this).textTracks.remove((0,h.A)(M,this)),(0,o.A)(M,this,null))}function K(t,e){(0,h.A)(f,this).qualities[c.kW.enableAuto]=t.some(t=>"auto"===t.id)?()=>(0,l.A)(T,this,U).call(this,"setQuality","auto"):void 0;for(const i of t){if("auto"===i.id)continue;const t=+i.id.slice(0,-1);isNaN(t)||(0,h.A)(f,this).qualities[c.jH.add]({id:i.id,width:t*(16/9),height:t,codec:"avc1,h.264",bitrate:-1},e)}(0,l.A)(T,this,X).call(this,t.find(t=>t.active),e)}function X(){let{id:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!t)return;const i="auto"===t,s=(0,h.A)(f,this).qualities.getById(t);i?((0,h.A)(f,this).qualities[c.kW.setAuto](i,e),(0,h.A)(f,this).qualities[c.jH.select](void 0,!0,e)):(0,h.A)(f,this).qualities[c.jH.select](null!==s&&void 0!==s?s:void 0,!0,e)}function Y(t,e,i){switch(t){case"ready":(0,l.A)(T,this,_).call(this);break;case"loaded":(0,l.A)(T,this,J).call(this,i);break;case"play":(0,l.A)(T,this,S).call(this,i);break;case"playProgress":(0,l.A)(T,this,z).call(this,i);break;case"pause":(0,l.A)(T,this,x).call(this,i);break;case"loadProgress":(0,l.A)(T,this,D).call(this,e.seconds,i);break;case"waiting":(0,l.A)(T,this,H).call(this,i);break;case"bufferstart":(0,l.A)(T,this,B).call(this,i);break;case"bufferend":(0,l.A)(T,this,F).call(this,i);break;case"volumechange":(0,l.A)(T,this,N).call(this,e.volume,(0,r.se)((0,h.A)(f,this).$state.muted),i);break;case"durationchange":(0,o.A)(b,this,new c.zJ(0,e.duration)),(0,h.A)(f,this).notify("duration-change",e.duration,i);break;case"playbackratechange":(0,h.A)(f,this).notify("rate-change",e.playbackRate,i);break;case"qualitychange":(0,l.A)(T,this,X).call(this,e,i);break;case"fullscreenchange":(0,o.A)(k,this,e.fullscreen),(0,h.A)(f,this).notify("fullscreen-change",e.fullscreen,i);break;case"enterpictureinpicture":(0,h.A)(f,this).notify("picture-in-picture-change",!0,i);break;case"leavepictureinpicture":(0,h.A)(f,this).notify("picture-in-picture-change",!1,i);break;case"ended":(0,h.A)(f,this).notify("end",void 0,i);break;case"error":(0,l.A)(T,this,G).call(this,e,i);break;case"seek":case"seeked":(0,l.A)(T,this,E).call(this,e.seconds,i)}}function G(t,e){const{message:i,method:s}=t;var n;("setPlaybackRate"===s&&(0,h.A)(v,this).set(!1),s)&&(null===(n=(0,l.A)(T,this,et).call(this,s))||void 0===n||n.reject(i))}async function U(t,e){let i=(0,r.vI)(),s=(0,h.A)(W,this).get(t);return s||(0,h.A)(W,this).set(t,s=[]),s.push(i),this.postMessage({method:t,value:e}),i.promise}function tt(){(0,h.A)(m,this).stop(),(0,o.A)(b,this,new c.zJ(0,0)),(0,o.A)(P,this,null),(0,o.A)(w,this,null),(0,h.A)(v,this).set(!1),(0,l.A)(T,this,L).call(this)}function et(t){var e;return null===(e=(0,h.A)(W,this).get(t))||void 0===e?void 0:e.shift()}},655:(t,e,i)=>{i.d(e,{getVimeoVideoInfo:()=>o,resolveVimeoVideoId:()=>h});const s=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,n=new Map,a=new Map;function h(t){const e=t.match(s);return{videoId:null===e||void 0===e?void 0:e[1],hash:null===e||void 0===e?void 0:e[2]}}async function o(t,e,i){if(n.has(t))return n.get(t);if(a.has(t))return a.get(t);let s="https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/".concat(t);i&&(s=s.concat("?h=".concat(i)));const h=window.fetch(s,{mode:"cors",signal:e.signal}).then(t=>t.json()).then(e=>{var i,s,a;const h=null===e||void 0===e||null===(i=e.thumbnail_url)||void 0===i||null===(i=i.match(/vimeocdn.com\/video\/(.*)?_/))||void 0===i?void 0:i[1],o=h?"https://i.vimeocdn.com/video/".concat(h,"_1920x1080.webp"):"",l={title:null!==(s=null===e||void 0===e?void 0:e.title)&&void 0!==s?s:"",duration:null!==(a=null===e||void 0===e?void 0:e.duration)&&void 0!==a?a:0,poster:o,pro:"basic"!==e.account_type};return n.set(t,l),l}).finally(()=>a.delete(t));return a.set(t,h),h}},751:(t,e,i)=>{i.d(e,{h:()=>A});var s=i(790),n=i(705),a=i(149),h=i(562),o=i(558),l=i(458),r=i(408),c=i(180),u=new WeakMap,d=new WeakSet;class A{get iframe(){return(0,l.A)(u,this)}constructor(t){(0,s.A)(this,d),(0,a.A)(this,u,void 0),(0,n.A)(this,"src",(0,c.O)("")),(0,n.A)(this,"referrerPolicy",null),(0,o.A)(u,this,t),t.setAttribute("frameBorder","0"),t.setAttribute("aria-hidden","true"),t.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&t.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,c.k6)(window,"message",(0,h.A)(d,this,p).bind(this)),(0,c.k6)((0,l.A)(u,this),"load",this.onLoad.bind(this)),(0,c.QZ)((0,h.A)(d,this,f).bind(this))}postMessage(t,e){var i;r.X3||null===(i=(0,l.A)(u,this).contentWindow)||void 0===i||i.postMessage(JSON.stringify(t),null!==e&&void 0!==e?e:"*")}}function f(){const t=this.src();if(!t.length)return void(0,l.A)(u,this).setAttribute("src","");const e=(0,c.se)(()=>this.buildParams());(0,l.A)(u,this).setAttribute("src",(0,r.xF)(t,e))}function p(t){var e;const i=this.getOrigin();if((null===t.source||t.source===(null===(e=(0,l.A)(u,this))||void 0===e?void 0:e.contentWindow))&&(!(0,c.Kg)(i)||i===t.origin)){try{const e=JSON.parse(t.data);return void(e&&this.onMessage(e,t))}catch(s){}t.data&&this.onMessage(t.data,t)}}}}]);
//# sourceMappingURL=479.7d2c7343.chunk.js.map