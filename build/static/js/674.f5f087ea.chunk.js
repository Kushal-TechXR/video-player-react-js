"use strict";(self.webpackChunkreels_app=self.webpackChunkreels_app||[]).push([[674],{674:(t,e,a)=>{a.d(e,{Cs:()=>g,It:()=>m,Qg:()=>f,aQ:()=>v,loader:()=>I,tM:()=>w,vY:()=>p});var o=a(379),r=a(790),n=a(149),i=a(705),s=a(558),c=a(458),l=a(562),d=a(408),u=a(180);function h(){return p().getCastState()===cast.framework.CastState.CONNECTED}function p(){return window.cast.framework.CastContext.getInstance()}function v(){return p().getCurrentSession()}function g(){var t;return null===(t=v())||void 0===t?void 0:t.getSessionObj().media[0]}function f(t){var e;return(null===(e=g())||void 0===e?void 0:e.media.contentId)===(null===t||void 0===t?void 0:t.src)}function w(t){return"Google Cast Error Code: ".concat(t)}function m(t,e){return(0,u.k6)(p(),t,e)}var A=new WeakMap,y=new WeakSet;async function C(t){if(function(){var t;return!(null===(t=window.cast)||void 0===t||!t.framework)}())return;const e=t.player.createEvent("google-cast-load-start");t.player.dispatch(e),await(0,d.k0)("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),await customElements.whenDefined("google-cast-launcher");const a=t.player.createEvent("google-cast-loaded",{trigger:e});if(t.player.dispatch(a),!function(){var t;return!(null===(t=window.chrome)||void 0===t||null===(t=t.cast)||void 0===t||!t.isAvailable)}())throw(0,l.A)(y,this,b).call(this,"CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return a}async function E(t){(0,l.A)(y,this,k).call(this,t);const e=await this.cast.requestSession();if(e)throw(0,l.A)(y,this,b).call(this,e.toUpperCase(),w(e))}function k(t){var e;null===(e=this.cast)||void 0===e||e.setOptions((0,o.A)((0,o.A)({},{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0}),t))}function _(t,e,a){const o={type:"google-cast",state:e};t.notify("remote-playback-change",o,a)}function b(t,e){const a=Error(e);return a.code=t,a}var I=Object.freeze({__proto__:null,GoogleCastLoader:class{constructor(){(0,r.A)(this,y),(0,i.A)(this,"name","google-cast"),(0,i.A)(this,"target",void 0),(0,n.A)(this,A,void 0)}get cast(){return p()}mediaType(){return"video"}canPlay(t){return d.G_&&!d.pz&&(0,d.jx)(t)}async prompt(t){let e,a,o;try{var r;e=await(0,l.A)(y,this,C).call(this,t),(0,c.A)(A,this)||((0,s.A)(A,this,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController((0,c.A)(A,this))),a=t.player.createEvent("google-cast-prompt-open",{trigger:e}),t.player.dispatchEvent(a),(0,l.A)(y,this,_).call(this,t,"connecting",a),await(0,l.A)(y,this,E).call(this,(0,u.se)(t.$props.googleCast)),t.$state.remotePlaybackInfo.set({deviceName:null===(r=v())||void 0===r?void 0:r.getCastDevice().friendlyName}),h()&&(0,l.A)(y,this,_).call(this,t,"connected",a)}catch(i){const r=i instanceof Error?i:(0,l.A)(y,this,b).call(this,(i+"").toUpperCase(),"Prompt failed.");throw o=t.player.createEvent("google-cast-prompt-error",{detail:r,trigger:null!==a&&void 0!==a?a:e,cancelable:!0}),t.player.dispatch(o),(0,l.A)(y,this,_).call(this,t,h()?"connected":"disconnected",o),r}finally{var n;t.player.dispatch("google-cast-prompt-close",{trigger:null!==(n=null!==o&&void 0!==o?o:a)&&void 0!==n?n:e})}}async load(t){if(d.X3)throw Error("[vidstack] can not load google cast provider server-side");if(!(0,c.A)(A,this))throw Error("[vidstack] google cast player was not initialized");return new((await a.e(146).then(a.bind(a,146))).GoogleCastProvider)((0,c.A)(A,this),t)}}})}}]);
//# sourceMappingURL=674.f5f087ea.chunk.js.map